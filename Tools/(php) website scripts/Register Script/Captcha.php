<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>dragons-lair.org | Repository</title>
    <meta http-equiv="Reply-to" content="thedeathart@gmail.com"/>
    <meta http-equiv="Content-Language" content="en"/>
    <meta http-equiv="Content-Script-Type" content="text/javascript"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="Title" content="dragons-lair.org"/>
    <meta name="Description" content="Personal website for the php developer Claus Jørgensen"/>
    <meta name="Keywords" content="php,mysql,tutorials,blog,profile,xml,xslt,xpath,rest,soap,webservices,xul,images,world of warcraft,college"/>
    <meta name="Robots" content="ALL"/>
    <meta name="Revisit-after" content="7"/>
    <meta name="Author" content="Claus Junker Joergensen"/>
    <meta name="Copyright" content="Claus Junker Joergensen , 2006 , All rights reserved"/>
    <meta name="Rating" content="General"/>
    <meta name="DC.Title" content="dragons-lair.org"/>
    <meta name="DC.Description" content="Personal website for the php developer Claus Jørgensen"/>
    <meta name="DC.Subject" content="php,mysql,tutorials,blog,profile,xml,xslt,xpath,rest,soap,webservices,xul,images,world of warcraft,college"/>
    <meta name="DC.Creator" content="Claus Junker Joergensen"/>
    <meta name="DC.Rights" content="claus Junker Joergensen , 2006 , All rights reserved"/>
    <meta name="DC.Identifier" content="http://www.dragons-lair.org/"/>
    <meta name="DC.Publisher" content="Claus Junker Joergensen"/>
    <meta name="DC.Date" scheme="ISO8601" content="2006-08-18"/>
    <meta name="DC.Language" scheme="NISOZ39.50" content="en"/>
    <meta name="DC.Format" scheme="mime" content="text/html"/>
    <link rel="schema.dc" href="http://purl.org/metadata/dublin_core_elements"/>
    <link rev="made" href="mailto:thedeathart@gmail.com"/>
    <base href="http://www.dragons-lair.org/"/>
    <link rel="stylesheet" type="text/css" media="screen" href="theme/dragons-lair/css/screen.css"/>
    <link rel="stylesheet" type="text/css" media="print" href="theme/dragons-lair/css/print.css"/>
  </head>
  <body>
    <div id="topBox">
      <div id="logo">
        <ul id="topLinks">
          <li>
            <a href="page/about/">About</a>
          </li>
          <li>
            <a href="module/repository/">Repository</a>
          </li>
          <li>
            <a href="module/gallery/">Gallery</a>
          </li>
          <li>
            <a href="page/portfolio/">Portfolio</a>
          </li>
        </ul>
      </div>
    </div>
    <div id="contentBox">
      <h1>Repository</h1>
      <table id="repository" cellspacing="2">
        <tr>
          <td colspan="5"><a href="module/repository/" class="header">Repository</a> » <a href="module/repository/KalOnline/" class="header">KalOnline</a> » <a href="module/repository/KalOnline/PHP/" class="header">PHP</a> » <a href="module/repository/KalOnline/PHP/Registration/" class="header">Registration</a> » <label>Captcha.php</label></td>
        </tr>
        <tr>
          <td>
            <table cellspacing="0" cellpadding="0">
              <tr>
                <td valign="top" class="lines">
                  <div style="text-align: right;"><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 1" style="cursor: pointer;" id="1">001</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 2" style="cursor: pointer;" id="2">002</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 3" style="cursor: pointer;" id="3">003</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 4" style="cursor: pointer;" id="4">004</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 5" style="cursor: pointer;" id="5">005</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 6" style="cursor: pointer;" id="6">006</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 7" style="cursor: pointer;" id="7">007</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 8" style="cursor: pointer;" id="8">008</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 9" style="cursor: pointer;" id="9">009</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 10" style="cursor: pointer;" id="10">010</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 11" style="cursor: pointer;" id="11">011</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 12" style="cursor: pointer;" id="12">012</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 13" style="cursor: pointer;" id="13">013</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 14" style="cursor: pointer;" id="14">014</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 15" style="cursor: pointer;" id="15">015</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 16" style="cursor: pointer;" id="16">016</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 17" style="cursor: pointer;" id="17">017</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 18" style="cursor: pointer;" id="18">018</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 19" style="cursor: pointer;" id="19">019</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 20" style="cursor: pointer;" id="20">020</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 21" style="cursor: pointer;" id="21">021</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 22" style="cursor: pointer;" id="22">022</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 23" style="cursor: pointer;" id="23">023</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 24" style="cursor: pointer;" id="24">024</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 25" style="cursor: pointer;" id="25">025</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 26" style="cursor: pointer;" id="26">026</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 27" style="cursor: pointer;" id="27">027</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 28" style="cursor: pointer;" id="28">028</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 29" style="cursor: pointer;" id="29">029</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 30" style="cursor: pointer;" id="30">030</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 31" style="cursor: pointer;" id="31">031</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 32" style="cursor: pointer;" id="32">032</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 33" style="cursor: pointer;" id="33">033</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 34" style="cursor: pointer;" id="34">034</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 35" style="cursor: pointer;" id="35">035</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 36" style="cursor: pointer;" id="36">036</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 37" style="cursor: pointer;" id="37">037</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 38" style="cursor: pointer;" id="38">038</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 39" style="cursor: pointer;" id="39">039</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 40" style="cursor: pointer;" id="40">040</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 41" style="cursor: pointer;" id="41">041</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 42" style="cursor: pointer;" id="42">042</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 43" style="cursor: pointer;" id="43">043</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 44" style="cursor: pointer;" id="44">044</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 45" style="cursor: pointer;" id="45">045</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 46" style="cursor: pointer;" id="46">046</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 47" style="cursor: pointer;" id="47">047</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 48" style="cursor: pointer;" id="48">048</span><br/><span onclick="window.location.href = 'http://' + window.location.hostname + window.location.pathname + '#' + 49" style="cursor: pointer;" id="49">049</span><br/></div>
                </td>
                <td valign="top" class="code"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Captcha&nbsp;<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$font&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'arial.ttf'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">generateCode</span><span style="color: #007700">(</span><span style="color: #0000BB">$characters</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$possible&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'23456789bcdfghjkmnpqrstvwxyz'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$code&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">$characters</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$code&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$possible</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$possible</span><span style="color: #007700">)-</span><span style="color: #0000BB">1</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$code</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$width</span><span style="color: #007700">=</span><span style="color: #DD0000">'120'</span><span style="color: #007700">,</span><span style="color: #0000BB">$height</span><span style="color: #007700">=</span><span style="color: #DD0000">'40'</span><span style="color: #007700">,</span><span style="color: #0000BB">$characters</span><span style="color: #007700">=</span><span style="color: #DD0000">'6'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$code&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">generateCode</span><span style="color: #007700">(</span><span style="color: #0000BB">$characters</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$code</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$font_size&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$height&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">0.60</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$image&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecreate</span><span style="color: #007700">(</span><span style="color: #0000BB">$width</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$height</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$background_color&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$text_color&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">80</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$noise_color&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">80</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;(</span><span style="color: #0000BB">$width</span><span style="color: #007700">*</span><span style="color: #0000BB">$height</span><span style="color: #007700">)/</span><span style="color: #0000BB">3</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">imagefilledellipse</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">,</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$width</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$height</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">,</span><span style="color: #0000BB">$noise_color</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;(</span><span style="color: #0000BB">$width</span><span style="color: #007700">*</span><span style="color: #0000BB">$height</span><span style="color: #007700">)/</span><span style="color: #0000BB">150</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">imageline</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">,</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$width</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$height</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$width</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$height</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,</span><span style="color: #0000BB">$noise_color</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$textbox&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagettfbbox</span><span style="color: #007700">(</span><span style="color: #0000BB">$font_size</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">font</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$code</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">$width&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$textbox</span><span style="color: #007700">[</span><span style="color: #0000BB">4</span><span style="color: #007700">])/</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">$height&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$textbox</span><span style="color: #007700">[</span><span style="color: #0000BB">5</span><span style="color: #007700">])/</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">imagettftext</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$font_size</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$text_color</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">font&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$code</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Type:&nbsp;image/jpeg'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">imagejpeg</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
